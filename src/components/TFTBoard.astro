---
import TFTBoardCharacter from "./TFTBoardCharacter.astro";

// Configuración de la composición que me pasaste
const boardConfig = [
  // Fila 1 (arriba) - 7 hexágonos
  [
    {
      champion: "Kennen" as const,
      borderColor: "gray" as const,
      items: [],
    },
    {
      champion: "Malphite" as const,
      borderColor: "gray" as const,
      items: [],
    },
    {
      champion: "Rakan" as const,
      borderColor: "green" as const,
      items: [],
    },
    {
      champion: "KSante" as const,
      borderColor: "purple" as const,
      items: [
        "Thief's Gloves" as const,
      ],
    },
    {
      champion: "Neeko" as const,
      borderColor: "yellow" as const,
      items: [
        "Steadfast Hammer" as const,
        "Crownguard" as const,
        "Warmog's Armor" as const,
      ],
    },
    null,
    null,
  ],
  // Fila 2 - 7 hexágonos (offset)
  [null, null, null, null, null, null, null],
  // Fila 3 - 7 hexágonos
  [null, null, null, null, null, null, null],
  // Fila 4 (abajo) - 7 hexágonos (offset)
  [
    null,
    null,
    null,
    null,
    {
      champion: "Janna" as const,
      borderColor: "yellow" as const,
      items: [
        "Red Buff" as const,
        "Archangel's Staff" as const,
      ],
    },
    null,
    {
      champion: "KogMaw" as const,
      borderColor: "yellow" as const,
      items: [
        "Archangel's Staff" as const,
        "Spear of Shojin" as const,
        "Spear of Shojin" as const,
      ],
    },
  ],
];
---


<div class="tft-board">
  {
    boardConfig.map((row, rowIndex) => (
      <div class={`board-row ${rowIndex % 2 === 1 ? "offset" : ""}`}>
        {row.map((cell, cellIndex) => (
          <div class="hex-slot">
            {cell ? (
              <TFTBoardCharacter
                champion={cell.champion}
                borderColor={cell.borderColor}
                items={cell.items}
                size="96px"
              />
            ) : (
              <TFTBoardCharacter borderColor="gray" size="96px" />
            )}
          </div>
        ))}
      </div>
    ))
  }
</div>

<style>
  .tft-board {
    display: flex;
    flex-direction: column;
    align-items: center;
    border-radius: 12px;
    max-width: fit-content;
    margin-left: -50px;
  }

  .board-row {
    display: flex;
    gap: 10px;
;
    margin-bottom: -20px; /* Más espacio entre filas */
  }

  .board-row.offset {
    margin-left: 100px; /* Exactamente la mitad del ancho del hexágono + gap */
  }

  .hex-slot {
    position: relative;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .tft-board {
      transform: scale(0.8);
      transform-origin: center;
    }
  }

  @media (max-width: 480px) {
    .tft-board {
      transform: scale(0.6);
    }
  }
</style>
